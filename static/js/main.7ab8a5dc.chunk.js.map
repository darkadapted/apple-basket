{"version":3,"sources":["assets/apple.jpg","components/appleItem.js","components/basket.js","components/App.js","store/index.js","index.js"],"names":["AppleItem","inject","observer","detail","this","props","eatApple","car","className","src","apple","alt","id","weight","onClick","Component","Basket","apples","eated","current","pickApple","isPicking","buttonText","console","log","length","num","map","isEaten","style","textAlign","color","background","App","flow","setTimeout","push","newAppleId","Math","floor","random","bind","forEach","i","observable","action","item","computed","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7ab8a5dc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/apple.a08b4078.jpg\";","import React, { Component } from 'react'\nimport { inject, observer } from \"mobx-react\";\nimport apple from '../assets/apple.jpg'\n\n@inject('car')\n@observer\nclass AppleItem extends Component {\n    render() {\n        const { detail } = this.props\n        const { eatApple } = this.props.car\n        return (\n            <div className=\"apple-item\">\n                <div className=\"apple\"><img src={apple} alt=\"\"/></div>\n                <div className=\"info\">\n                    <div className=\"name\">红苹果 - {detail.id}号</div>\n                    <div className=\"weight\">{detail.weight}克</div>\n                </div>\n                <div className=\"btn-div\">\n                    <button onClick={() => {eatApple(detail.id)}}> 吃掉 </button>\n                </div>\n            </div>\n        )\n    }\n}\nexport default AppleItem\n","import React, { Component } from 'react'\nimport { inject, observer } from \"mobx-react\";\nimport AppleItem from \"./appleItem\"\n\n@inject('car')\n@observer\nclass Basket extends Component {\n    render() {\n        const { apples, eated, current, pickApple, isPicking, buttonText } = this.props.car\n        console.log('isPicking', isPicking)\n        console.log('apples.length === 0', apples.length === 0)\n        return (\n            <div>\n                <div className=\"header\">苹果篮子</div>\n                <div className=\"detail-box\">\n                    <div className=\"left\">\n                        <div className=\"title\">当前</div>\n                        <div>{current.num}个苹果，{current.weight}克</div>\n                    </div>\n                    <div className=\"right\">\n                        <div className=\"title\">已吃掉</div>\n                        <div>{eated.num}个苹果，{eated.weight}克</div>\n                    </div>\n                </div>\n                <div className=\"basket\">\n                    {\n                        apples.map(apple => {\n                            if (!apple.isEaten) {\n                                return (\n                                    <AppleItem key={apple.id} detail={apple} />\n                                )\n                            }\n                        })\n                    }\n                    {\n                        current.num === 0 && <div style={{textAlign: 'center', color: '#bfbfbf'}}>苹果篮子空空如也</div>\n                    }\n                </div>\n                <div className=\"btn-div\">\n                    <button onClick={() => {pickApple()}} style={isPicking ? {background: '#9fa5a5'} : {}}>{buttonText}</button>\n                </div>\n            </div>\n        )\n    }\n}\nexport default Basket\n","import React, { Component } from 'react'\nimport Basket from './basket'\nimport AppleItem from './appleItem'\n\nexport default class App extends Component {\n    render() {\n        return (\n            <div className=\"container\">\n                <Basket />\n            </div>\n        )\n    }\n}\n","import {action, computed, observable, flow} from \"mobx\"\n\nclass ShopCar {\n    @observable apples = [\n        {\n            id: 0,\n            weight: 233,\n            isEaten: false\n        },\n        {\n            id: 1,\n            weight: 235,\n            isEaten: true\n        },\n        {\n            id: 2,\n            weight: 256,\n            isEaten: false\n        }\n    ];\n    @observable newAppleId = 3;\n    @observable isPicking = false;\n    @observable buttonText = '摘苹果'\n\n    @action eatApple = (id) => {\n        this.apples = this.apples.map(item => {\n            if (id === item.id) {\n                return {\n                    ...item,\n                    isEaten: true\n                }\n            }\n            return {\n                ...item\n            }\n        })\n    }\n\n    pickApple = flow(function*() {\n        this.isPicking = true\n        this.buttonText = '正在摘取苹果'\n        setTimeout(() => {\n            this.apples.push({\n                id: this.newAppleId++,\n                weight: 200+Math.floor(200*Math.random()),\n                isEaten: false\n            })\n            this.isPicking = false\n            this.buttonText = '摘苹果'\n        }, 1000)\n    }).bind(this)\n\n    @computed get eated () {\n        let weight = 0\n        let num = 0\n        this.apples.forEach(i=>{\n            if (i.isEaten) {\n                weight += i.weight\n                num++\n            }\n        })\n        return {\n            weight,\n            num\n        }\n    }\n\n    @computed get current () {\n        let weight = 0\n        let num = 0\n        this.apples.forEach(i=>{\n            if (!i.isEaten) {\n                weight += i.weight\n                num++\n            }\n        })\n        return {\n            weight,\n            num\n        }\n    }\n}\n\nconst car = new ShopCar()\n\nexport default car\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { Provider } from 'mobx-react'\nimport car from './store'\n\nReactDOM.render(\n  <Provider car={car}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}