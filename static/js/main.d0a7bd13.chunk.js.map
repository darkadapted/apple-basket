{"version":3,"sources":["components/appleItem.js","components/basket.js","components/App.js","store/index.js","index.js"],"names":["AppleItem","inject","observer","detail","this","props","eatApple","car","className","src","alt","id","weight","onClick","Component","Basket","apples","eated","current","pickApple","isPicking","buttonText","console","log","num","map","apple","isEaten","style","background","App","flow","setTimeout","push","newAppleId","Math","floor","random","bind","forEach","i","observable","action","item","computed","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d0a7bd13.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { inject, observer } from \"mobx-react\";\n\n@inject('car')\n@observer\nclass AppleItem extends Component {\n    render() {\n        const { detail } = this.props\n        const { eatApple } = this.props.car\n        return (\n            <div className=\"apple-item\">\n                <div className=\"apple\"><img src=\"../images/apple.jpg\" alt=\"\"/></div>\n                <div className=\"info\">\n                    <div className=\"name\">红苹果 - {detail.id}号</div>\n                    <div className=\"weight\">{detail.weight}克</div>\n                </div>\n                <div className=\"btn-div\">\n                    <button onClick={() => {eatApple(detail.id)}}> 吃掉 </button>\n                </div>\n            </div>\n        )\n    }\n}\nexport default AppleItem\n","import React, { Component } from 'react'\nimport { inject, observer } from \"mobx-react\";\nimport AppleItem from \"./appleItem\"\n\n@inject('car')\n@observer\nclass Basket extends Component {\n    render() {\n        const { apples, eated, current, pickApple, isPicking, buttonText } = this.props.car\n        console.log('isPicking', isPicking)\n        return (\n            <div>\n                <div className=\"header\">苹果篮子</div>\n                <div className=\"detail-box\">\n                    <div className=\"left\">\n                        <div className=\"title\">当前</div>\n                        <div>{current.num}个苹果，{current.weight}克</div>\n                    </div>\n                    <div className=\"right\">\n                        <div className=\"title\">已吃掉</div>\n                        <div>{eated.num}个苹果，{eated.weight}克</div>\n                    </div>\n                </div>\n                <div className=\"basket\">\n                    {\n                        apples.map(apple => {\n                            if (!apple.isEaten) {\n                                return (\n                                    <AppleItem key={apple.id} detail={apple} />\n                                )\n                            }\n                        })\n                    }\n                </div>\n                <div className=\"btn-div\">\n                    <button onClick={() => {pickApple()}} style={isPicking ? {background: '#9fa5a5'} : {}}>{buttonText}</button>\n                </div>\n            </div>\n        )\n    }\n}\nexport default Basket\n","import React, { Component } from 'react'\nimport Basket from './basket'\nimport AppleItem from './appleItem'\n\nexport default class App extends Component {\n    render() {\n        return (\n            <div className=\"container\">\n                <Basket />\n            </div>\n        )\n    }\n}\n","import {action, computed, observable, flow} from \"mobx\"\n\nclass ShopCar {\n    @observable apples = [\n        {\n            id: 0,\n            weight: 233,\n            isEaten: false\n        },\n        {\n            id: 1,\n            weight: 235,\n            isEaten: true\n        },\n        {\n            id: 2,\n            weight: 256,\n            isEaten: false\n        }\n    ];\n    @observable newAppleId = 3;\n    @observable isPicking = false;\n    @observable buttonText = '摘苹果'\n\n    @action eatApple = (id) => {\n        this.apples = this.apples.map(item => {\n            if (id === item.id) {\n                return {\n                    ...item,\n                    isEaten: true\n                }\n            }\n            return {\n                ...item\n            }\n        })\n    }\n\n    pickApple = flow(function*() {\n        this.isPicking = true\n        this.buttonText = '正在摘取苹果'\n        setTimeout(() => {\n            this.apples.push({\n                id: this.newAppleId++,\n                weight: 200+Math.floor(200*Math.random()),\n                isEaten: false\n            })\n            this.isPicking = false\n            this.buttonText = '摘苹果'\n        }, 1000)\n    }).bind(this)\n\n    @computed get eated () {\n        let weight = 0\n        let num = 0\n        this.apples.forEach(i=>{\n            if (i.isEaten) {\n                weight += i.weight\n                num++\n            }\n        })\n        return {\n            weight,\n            num\n        }\n    }\n\n    @computed get current () {\n        let weight = 0\n        let num = 0\n        this.apples.forEach(i=>{\n            if (!i.isEaten) {\n                weight += i.weight\n                num++\n            }\n        })\n        return {\n            weight,\n            num\n        }\n    }\n}\n\nconst car = new ShopCar()\n\nexport default car\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { Provider } from 'mobx-react'\nimport car from './store'\n\nReactDOM.render(\n  <Provider car={car}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}